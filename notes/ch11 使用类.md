## ç¬¬åä¸€ç«  ä½¿ç”¨ç±»

å­¦ä¹ æœ¬ç« çŸ¥è¯†çš„æœ€å¥½æ–¹æ³•ï¼šåœ¨æˆ‘ä»¬è‡ªå·±å¼€å‘çš„C++ç¨‹åºä¸­ä½¿ç”¨å…¶ä¸­çš„æ–°ç‰¹æ€§ã€‚â€œè½»æ¾åœ°ä½¿ç”¨è¿™ç§è¯­è¨€ï¼Œä¸è¦è§‰å¾—å¿…é¡»ä½¿ç”¨æ‰€æœ‰çš„ç‰¹æ€§ï¼Œä¸è¦åœ¨ç¬¬ä¸€æ¬¡å­¦ä¹ æ—¶å°±è¯•å›¾ä½¿ç”¨æ‰€æœ‰çš„ç‰¹æ€§ã€‚â€

### 11.1 è¿ç®—ç¬¦é‡è½½

ï¼ˆ1ï¼‰è¿ç®—ç¬¦é‡è½½æ˜¯ä¸€ç§å½¢å¼çš„C++å¤šæ€ã€‚

ï¼ˆ2ï¼‰C++å…è®¸å°†è¿ç®—ç¬¦é‡è½½æ‰©å±•åˆ°ç”¨æˆ·å®šä¹‰çš„ç±»å‹ï¼š

* ä¸¤ä¸ªæ•°ç»„ç›¸åŠ ï¼Œé‡è½½+è¿ç®—ç¬¦ï¼š

  * ```c++
    evening = sam + janet;
    ```

ï¼ˆ3ï¼‰é‡è½½è¿ç®—ç¬¦æ–¹æ³•ï¼š

* éœ€ä½¿ç”¨è¢«ç§°ä¸ºè¿ç®—ç¬¦å‡½æ•°çš„ç‰¹æ®Šå‡½æ•°å½¢å¼ï¼š

  * ```c++
    operatorop(argument-list)
    ```

  * ä¾‹å¦‚ï¼š

    * operator +()é‡è½½+è¿ç®—ç¬¦
    * operator *()é‡è½½ *è¿ç®—ç¬¦

  * ä¸èƒ½è™šæ„ä¸€ä¸ªæ–°çš„ç¬¦å·ï¼š@ç­‰



### 11.2 è®¡ç®—æ—¶é—´ï¼šä¸€ä¸ªè¿ç®—ç¬¦é‡è½½ç¤ºä¾‹

â€‹	é‡‡ç”¨ä¸€ä¸ªä½¿ç”¨æ–¹æ³•æ¥å¤„ç†åŠ æ³•çš„Timeç±»ï¼š

ï¼ˆ1ï¼‰ç±»å£°æ˜ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    #pragma once
    // ch11_01_mytime0.h -- Time class before operator overloading
    #ifndef CH11_O1_MYTIME0_H_
    #define CH11_O1_MYTIME0_H_
    
    class Time
    {
    private:
    	int hours;
    	int minutes;
    public:
    	Time();
    	Time(int h, int m = 0);
    	void AddMin(int m);
    	void AddHr(int h);
    	void Reset(int h = 0, int m = 0);
    	Time Sum(const Time& t) const;
    	void Show() const;
    };
    #endif
    ```

ï¼ˆ2ï¼‰æ–¹æ³•å®šä¹‰æ–‡ä»¶ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    // ch11_02_mytime0.cpp -- implementing Time methods
    #include <iostream>
    #include "ch11_01_mytime0.h"
    
    Time::Time()
    {
    	hours = minutes = 0;
    }
    
    Time::Time(int h, int m)
    {
    	hours = h;
    	minutes = m;
    }
    
    void Time::AddMin(int m)
    {
    	minutes += m;
    	hours += minutes / 60;
    	minutes %= 60;
    }
    
    void Time::AddHr(int h)
    {
    	hours += h;
    }
    
    void Time::Reset(int h, int m)
    {
    	hours = h;
    	minutes = m;
    }
    
    Time Time::Sum(const Time& t) const
    {
    	Time sum;
    	sum.minutes = minutes + t.minutes;
    	sum.hours = hours + t.hours + sum.minutes / 60;
    	sum.minutes %= 60;
    	return sum;
    }
    
    void Time::Show() const
    {
    	std::cout << hours << " hours, " << minutes << " minutes";
    }
    ```

ï¼ˆ3ï¼‰ä½¿ç”¨ç±»æ–‡ä»¶ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    // ch11_03_usetime0.cpp -- using the first draft of the Time class
    // compile usetime0.cpp and mytime0.cpp together
    
    #include <iostream>
    #include "ch11_01_mytime0.h"
    
    int main()
    {
    	using std::cout;
    	using std::endl;
    	Time planning;
    	Time coding(2, 40);
    	Time fixing(5, 55);
    	Time total;
    
    	cout << "planning time = ";
    	planning.Show();
    	cout << endl;
    
    	cout << "coding time = ";
    	coding.Show();
    	cout << endl;
    
    	cout << "fixing time = ";
    	fixing.Show();
    	cout << endl;
    
    	total = coding.Sum(fixing);
    	cout << "coding.Sum(fixing) = ";
    	total.Show();
    	cout << endl;
    
    	return 0;
    }
    ```

* ç»“æœï¼š

  * ```c++
    planning time = 0 hours, 0 minutes
    coding time = 2 hours, 40 minutes
    fixing time = 5 hours, 55 minutes
    coding.Sum(fixing) = 8 hours, 35 minutes
    ```

#### 11.2.1 æ·»åŠ åŠ æ³•è¿ç®—ç¬¦

â€‹	å°†Timeç±»è½¬æ¢ä¸ºé‡è½½çš„åŠ æ³•è¿ç®—ç¬¦å¾ˆå®¹æ˜“ï¼Œåªè¦å°†Sun()çš„åç§°æ”¹ä¸ºoperator+()å³å¯ã€‚

ï¼ˆ1ï¼‰ç±»å£°æ˜ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    #pragma once
    
    // ch11_04_mytime1.h -- Time class before operator overloading
    #ifndef CH11_O4_MYTIME1_H_
    #define CH11_O4_MYTIME1_H_
    
    class Time
    {
    private:
    	int hours;
    	int minutes;
    public:
    	Time();
    	Time(int h, int m = 0);
    	void AddMin(int m);
    	void AddHr(int h);
    	void Reset(int h = 0, int m = 0);
    	Time operator+(const Time& t) const;
    	void Show() const;
    };
    #endif
    ```

ï¼ˆ2ï¼‰ç±»æ–¹æ³•æ–‡ä»¶ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    // ch11_05_mytime1.cpp -- implementing Time methods
    #include <iostream>
    #include "ch11_04_mytime1.h"
    
    Time::Time()
    {
    	hours = minutes = 0;
    }
    
    Time::Time(int h, int m)
    {
    	hours = h;
    	minutes = m;
    }
    
    void Time::AddMin(int m)
    {
    	minutes += m;
    	hours += minutes / 60;
    	minutes %= 60;
    }
    
    void Time::AddHr(int h)
    {
    	hours += h;
    }
    
    void Time::Reset(int h, int m)
    {
    	hours = h;
    	minutes = m;
    }
    
    Time Time::operator+(const Time& t) const
    {
    	Time sum;
    	sum.minutes = minutes + t.minutes;
    	sum.hours = hours + t.hours + sum.minutes / 60;
    	sum.minutes %= 60;
    	return sum;
    }
    
    void Time::Show() const
    {
    	std::cout << hours << " hours, " << minutes << " minutes";
    }
    ```

  * å’ŒSum()ä¸€æ ·ï¼Œoperator+()ä¹Ÿæ˜¯ç”±Timeå¯¹è±¡è°ƒç”¨çš„ï¼Œå®ƒå°†ç¬¬äºŒä¸ªTimeå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªTimeå¯¹è±¡ã€‚

  * å› æ­¤å¯ä»¥åƒè°ƒç”¨Sum()é‚£æ ·æ¥è°ƒç”¨operator()æ–¹æ³•ï¼š

    * ```c++
      total = morefixing.operator+(total);
      ```

  * ä¹Ÿå¯ä»¥ç”¨è¿ç®—ç¬¦ï¼š

    * ```c++
      total = coding + fixing;
      ```

    * è¿ç®—ç¬¦å·¦ä¾§å¯¹è±¡â€œcodingâ€æ˜¯è°ƒç”¨å¯¹è±¡ï¼Œå³ä¾§å¯¹è±¡â€œfixingâ€æ˜¯ä½œä¸ºå‚æ•°è¢«ä¼ é€’çš„å¯¹è±¡ã€‚

ï¼ˆ3ï¼‰ä½¿ç”¨ç±»æ–‡ä»¶ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    // ch11_06_usetime1.cpp -- using the first draft of the Time class
    // compile usetime1.cpp and mytime1.cpp together
    
    #include <iostream>
    #include "ch11_04_mytime1.h"
    
    int main()
    {
    	using std::cout;
    	using std::endl;
    	Time planning;
    	Time coding(2, 40);
    	Time fixing(5, 55);
    	Time total;
    
    	cout << "planning time = ";
    	planning.Show();
    	cout << endl;
    
    	cout << "coding time = ";
    	coding.Show();
    	cout << endl;
    
    	cout << "fixing time = ";
    	fixing.Show();
    	cout << endl;
    
    	total = coding + fixing;
    	cout << "coding + fixing = ";
    	total.Show();
    	cout << endl;
    
    	Time morefixing(3, 28);
    	cout << "morefixing time = ";
    	morefixing.Show();
    	cout << endl;
    	total = morefixing.operator+(total);
    	cout << "morefixing.operator+(total) = ";
    	total.Show();
    	cout << endl;
    
    	return 0;
    }
    ```

* ç»“æœï¼š

  * ```c++
    planning time = 0 hours, 0 minutes
    coding time = 2 hours, 40 minutes
    fixing time = 5 hours, 55 minutes
    coding + fixing = 8 hours, 35 minutes
    morefixing time = 3 hours, 28 minutes
    morefixing.operator+(total) = 12 hours, 3 minutes
    ```

ğŸ“Œè¿ç®—ç¬¦å¯ä»¥å’Œå¤šä¸ªå¯¹è±¡é‡è½½åœ¨ä¸€æ¡è¯­å¥ä¸­ã€‚

#### 11.2.2 é‡è½½é™åˆ¶

* 1ã€é‡è½½åçš„è¿ç®—ç¬¦å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯ç”¨æˆ·å®šä¹‰çš„ç±»å‹ï¼Œè¿™å°†é˜²æ­¢ç”¨æˆ·ä¸ºæ ‡å‡†ç±»å‹é‡è½½è¿ç®—ç¬¦ã€‚
  * ä¾‹å¦‚ä¸èƒ½å°†å‡æ³•è¿ç®—ç¬¦(-)é‡è½½ä¸ºè®¡ç®—ä¸¤ä¸ªdoubleå€¼çš„å’Œï¼Œè€Œä¸æ˜¯å®ƒä»¬çš„å·®ã€‚
* 2ã€ä½¿ç”¨è¿ç®—ç¬¦æ—¶ä¸èƒ½è¿åè¿ç®—ç¬¦åŸæ¥çš„å¥æ³•è§„åˆ™
  * ä¾‹å¦‚ï¼šä¸èƒ½å°†æ±‚æ¨¡è¿ç®—ç¬¦(%)é‡è½½æˆä½¿ç”¨ä¸€ä¸ªæ“ä½œæ•°ï¼ŒåŒæ ·ä¸èƒ½ä¿®æ”¹è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ã€‚
* 3ã€ä¸èƒ½åˆ›å»ºæ–°è¿ç®—ç¬¦ã€‚
  * ä¾‹å¦‚ï¼šä¸èƒ½å®šä¹‰operator**()å‡½æ•°æ¥è¡¨ç¤ºæ±‚å¹‚ã€‚
* 4ã€ä¸èƒ½é‡è½½ä¸‹é¢çš„è¿ç®—ç¬¦ï¼š
  * ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/dcc8694d-4164-4ffe-a5c0-eeca00bcb4fe)
* 5ã€è¡¨11.1ä¸­çš„å¤§å¤šæ•°è¿ç®—ç¬¦éƒ½å¯ä»¥é€šè¿‡æˆå‘˜æˆ–éæˆå‘˜å‡½æ•°è¿›è¡Œé‡è½½ã€‚
  * ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/da61fa37-fcb5-4736-b76f-39158fe8ed94)
  * ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/2a924af3-4385-4fe9-b5bc-e489bb37d490)
  * ä½†ä¸‹é¢çš„è¿ç®—ç¬¦åªèƒ½é€šè¿‡æˆå‘˜å‡½æ•°è¿›è¡Œé‡è½½ï¼š
    * ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/b15ddd29-8f63-471a-b2bd-7f5e9e2cf7a6)
#### 11.2.3 å…¶ä»–é‡è½½è¿ç®—ç¬¦

â€‹	ä¸¤ä¸ªå¯¹è±¡çš„çš„ç›¸å‡ï¼Œæˆ–è€…å°†ä¸€ä¸ªå¯¹è±¡ä¹˜ä»¥ä¸€ä¸ªå› å­

* ```c++
  Time operator-(const Time & t) const;
  Time operator*(double n) const;
  ```

ï¼ˆ1ï¼‰ç±»å£°æ˜å¤´æ–‡ä»¶ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    #pragma once
    // ch11_07_mytime2.h -- Time class after operator overloading
    #ifndef CH11_O7_MYTIME2_H_
    #define CH11_O7_MYTIME2_H_
    
    class Time
    {
    private:
    	int hours;
    	int minutes;
    public:
    	Time();
    	Time(int h, int m = 0);
    	void AddMin(int m);
    	void AddHr(int h);
    	void Reset(int h = 0, int m = 0);
    	Time operator+(const Time& t) const;
    	Time operator-(const Time& t) const;
    	Time operator*(double n) const;
    	void Show() const;
    };
    #endif
    ```

ï¼ˆ2ï¼‰æ–¹æ³•æ–‡ä»¶ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    // ch10_08_mytime2.cpp -- implementing Time methods
    #include <iostream>
    #include "ch11_07_mytime2.h"
    
    Time::Time()
    {
    	hours = minutes = 0;
    }
    
    Time::Time(int h, int m)
    {
    	hours = h;
    	minutes = m;
    }
    
    void Time::AddMin(int m)
    {
    	minutes += m;
    	hours += minutes / 60;
    	minutes %= 60;
    }
    
    void Time::AddHr(int h)
    {
    	hours += h;
    }
    
    void Time::Reset(int h, int m)
    {
    	hours = h;
    	minutes = m;
    }
    
    Time Time::operator+(const Time& t) const
    {
    	Time sum;
    	sum.minutes = minutes + t.minutes;
    	sum.hours = hours + t.hours + sum.minutes / 60;
    	sum.minutes %= 60;
    	return sum;
    }
    
    Time Time::operator-(const Time& t) const
    {
    	Time diff;
    	int tot1, tot2;
    	tot1 = t.minutes + 60 * t.hours;
    	tot2 = minutes + 60 * hours;
    	diff.minutes = (tot2 - tot1) % 60;
    	diff.hours = (tot2 - tot1) / 60;
    	return diff;
    }
    
    Time Time::operator*(double mult) const
    {
    	Time result;
    	long totalminutes = hours * mult * 60 + minutes + mult;
    	result.hours = totalminutes / 60;
    	result.minutes = totalminutes % 60;
    	return result;
    }
    
    void Time::Show() const
    {
    	std::cout << hours << " hours, " << minutes << " minutes";
    }
    ```

ï¼ˆ3ï¼‰ä½¿ç”¨ç±»æ–‡ä»¶ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    // ch11_09_usetime2.cpp -- using the first draft of the Time class
    // compile usetime2.cpp and mytime2.cpp together
    
    #include <iostream>
    #include "ch11_07_mytime2.h"
    
    int main()
    {
    	using std::cout;
    	using std::endl;
    	Time weeding(4, 35);
    	Time waxing(2, 47);
    	Time total;
    	Time diff;
    	Time adjusted;
    
    	cout << "weeding time = ";
    	weeding.Show();
    	cout << endl;
    
    	cout << "waxing time = ";
    	waxing.Show();
    	cout << endl;
    
    	cout << "total work time = ";
    	total = weeding + waxing;
    	total.Show();
    	cout << endl;
    
    	diff = weeding - waxing;
    	cout << "weeding time - waxing time = ";
    	diff.Show();
    	cout << endl;
    
    	adjusted = total * 1.5;
    	cout << "adjusted work time = ";
    	adjusted.Show();
    	cout << endl;
    
    	return 0;
    }
    ```

* ç»“æœï¼š

  * ```c++
    weeding time = 4 hours, 35 minutes
    waxing time = 2 hours, 47 minutes
    total work time = 7 hours, 22 minutes
    weeding time - waxing time = 1 hours, 48 minutes
    adjusted work time = 11 hours, 3 minutes
    ```



### 11.3 å‹å…ƒ

ï¼ˆ1ï¼‰3ç§å‹å…ƒå½¢å¼ï¼šå‹å…ƒå‡½æ•°ã€å‹å…ƒç±»ã€å‹å…ƒæˆå‘˜å‡½æ•°ã€‚æœ¬ç« é‡ç‚¹ä»‹ç»å‹å…ƒå‡½æ•°ã€‚

ï¼ˆ2ï¼‰éœ€è¦å‹å…ƒçš„åŸå› ï¼š

* åœ¨ä¸ºé‡è½½äºŒå…ƒè¿ç®—ç¬¦æ—¶ï¼ˆå¸¦ä¸¤ä¸ªå‚æ•°çš„è¿ç®—ç¬¦ï¼‰å¸¸å¸¸éœ€è¦å‹å…ƒã€‚ä¾‹å¦‚*ä¹˜æ³•è¿ç®—ç¬¦ï¼Œè°ƒç”¨å¯¹è±¡å’Œæ”¾å¤§å€æ•°ç›¸ä¹˜ï¼Œè®²ç©¶è¿™ä¸¤ä¸ªæ“ä½œæ•°çš„ä½ç½®ï¼Œåªæœ‰è°ƒç”¨å¯¹è±¡åœ¨å³ï¼Œå€æ•°åœ¨å·¦æ—¶æ‰å¯ä½¿ç”¨ã€‚è¯¦æƒ…è§P391ã€‚

* è§£å†³åŠæ³•ï¼šéæˆå‘˜å‡½æ•°â€”â€”ä¸ç”±å¯¹è±¡è°ƒç”¨ï¼Œå®ƒä½¿ç”¨çš„æ‰€æœ‰å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½æ˜¯æ˜¾å¼å‚æ•°ã€‚

  * è¿™æ ·å°±èƒ½å¤Ÿå°†ä¸‹é¢ä¸¤ä¸ªè¯­å¥åŒ¹é…ï¼š

    * ```c++
      A = 2.75 * B;
      A = operator*(2.5, B);
      ```

    * è¯¥å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š

    * ```c++
      Time operator*(double m, const Time & t);
      ```

ï¼ˆ3ï¼‰å‹å…ƒå‡½æ•°æ˜¯ä¸€ç±»ç‰¹æ®Šçš„éæˆå‘˜å‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ã€‚

### 11.3 å‹å…ƒ

ï¼ˆ1ï¼‰3ç§å‹å…ƒå½¢å¼ï¼šå‹å…ƒå‡½æ•°ã€å‹å…ƒç±»ã€å‹å…ƒæˆå‘˜å‡½æ•°ã€‚æœ¬ç« é‡ç‚¹ä»‹ç»å‹å…ƒå‡½æ•°ã€‚

ï¼ˆ2ï¼‰éœ€è¦å‹å…ƒçš„åŸå› ï¼š

* åœ¨ä¸ºé‡è½½äºŒå…ƒè¿ç®—ç¬¦æ—¶ï¼ˆå¸¦ä¸¤ä¸ªå‚æ•°çš„è¿ç®—ç¬¦ï¼‰å¸¸å¸¸éœ€è¦å‹å…ƒã€‚ä¾‹å¦‚*ä¹˜æ³•è¿ç®—ç¬¦ï¼Œè°ƒç”¨å¯¹è±¡å’Œæ”¾å¤§å€æ•°ç›¸ä¹˜ï¼Œè®²ç©¶è¿™ä¸¤ä¸ªæ“ä½œæ•°çš„ä½ç½®ï¼Œåªæœ‰è°ƒç”¨å¯¹è±¡åœ¨å³ï¼Œå€æ•°åœ¨å·¦æ—¶æ‰å¯ä½¿ç”¨ã€‚è¯¦æƒ…è§P391ã€‚

* è§£å†³åŠæ³•ï¼šéæˆå‘˜å‡½æ•°â€”â€”ä¸ç”±å¯¹è±¡è°ƒç”¨ï¼Œå®ƒä½¿ç”¨çš„æ‰€æœ‰å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½æ˜¯æ˜¾å¼å‚æ•°ã€‚

  * è¿™æ ·å°±èƒ½å¤Ÿå°†ä¸‹é¢ä¸¤ä¸ªè¯­å¥åŒ¹é…ï¼š

    * ```c++
      A = 2.75 * B;
      A = operator*(2.5, B);
      ```

    * è¯¥å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š

    * ```c++
      Time operator*(double m, const Time & t);
      ```

ï¼ˆ3ï¼‰å‹å…ƒå‡½æ•°æ˜¯ä¸€ç±»ç‰¹æ®Šçš„éæˆå‘˜å‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ã€‚

#### 11.3.1 åˆ›å»ºå‹å…ƒ

Step1ï¼šåˆ›å»ºå‹å…ƒå‡½æ•°çš„ç¬¬ä¸€æ­¥æ˜¯å°†å…¶**åŸå‹**æ”¾åœ¨ç±»å£°æ˜ä¸­ï¼Œå¹¶åœ¨åŸå‹å£°æ˜å‰åŠ ä¸Šå…³é”®å­—friendï¼š

* ```c++
  friend Time operator*(double m, const Time & t);
  ```

* Attentionâ—

  * è™½ç„¶operator*()å‡½æ•°åœ¨ç±»å£°æ˜ä¸­å£°æ˜çš„ï¼Œä½†å®ƒä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨æˆå‘˜è¿ç®—ç¬¦æ¥è°ƒç”¨ï¼›
  * è™½ç„¶operator*()å‡½æ•°ä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œä½†å®ƒä¸æˆå‘˜å‡½æ•°çš„è®¿é—®æƒé™ç›¸åŒã€‚

Step2ï¼šç¼–å†™å‡½æ•°å®šä¹‰ï¼š

* å› ä¸ºå®ƒä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œæ‰€ä»¥ä¸è¦ä½¿ç”¨Time::é™å®šç¬¦ï¼Œå¦å¤–ä¸è¦åœ¨å®šä¹‰ä¸­ä½¿ç”¨å…³é”®å­—friendï¼š

  * ```c++
    Time operator*(double m, const Time & t)
    {
        Time result;
        long totalminutes = t.hours * mult * 60 + t.minutes + mult;
    	result.hours = totalminutes / 60;
    	result.minutes = totalminutes % 60;
    	return result;
    }
    ```

In additionï¼šå¯ä»¥æŒ‰ç…§P392çš„æ–¹å¼å¯¹ä¸Šè¿°å®šä¹‰ä¿®æ”¹ï¼Œå³å¯å°†è¿™ä¸ªå‹å…ƒå‡½æ•°ç¼–å†™ä¸ºéå‹å…ƒå‡½æ•°ã€‚ï¼ˆæç¤º:å¦‚æœè¦ä¸ºç±»é‡è½½è¿ç®—ç¬¦ï¼Œå¹¶å°†éç±»çš„é¡¹ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼Œåˆ™å¯ä»¥ç”¨å‹å…ƒå‡½æ•°æ¥åè½¬æ“ä½œæ•°çš„é¡ºåºã€‚ï¼‰

#### 11.3.2 å¸¸ç”¨çš„å‹å…ƒï¼šé‡è½½<<è¿ç®—ç¬¦

ï¼ˆ1ï¼‰<<çš„ç¬¬ä¸€ç§é‡è½½ç‰ˆæœ¬ï¼š

* è¦ä½¿Timeç±»çŸ¥é“ä½¿ç”¨coutï¼Œå¿…é¡»ä½¿ç”¨å‹å…ƒå‡½æ•°ï¼š

  * å› ä¸ºå¦‚æœä½¿ç”¨ä¸€ä¸ªTimeæˆå‘˜å‡½æ•°æ¥é‡è½½<<ï¼ŒTimeå¯¹è±¡å°†æ˜¯ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼Œè€Œcoutç”¨æ³•æ˜¯å°†è‡ªå·±coutä½œä¸ºç¬¬ä¸€ä¸ªæ“ä½œæ•°ã€‚

  * ```c++
    void operator<<(ostream & os, const Time & t)
    {
        os << t.hours << " hours, " << t.minutes << " minutes";
    }
    ```

  * è¿™æ ·ä¾¿å¯ä»¥ï¼š

    * ```c++
      cout << trip;
      //-------------//
      4 hours, 23 minutes
      ```

* ç”¨osè¿˜æœ‰ä¸ªåŸå› æ˜¯å¦ä¸€ä¸ªostreamå¯¹è±¡æ˜¯cerrï¼Œå®ƒå°†è¾“å‡ºå‘é€åˆ°æ ‡å‡†è¾“å‡ºæµâ€”â€”é»˜è®¤ä¸ºæ˜¾ç¤ºå™¨ï¼Œå¯ä»¥æ˜¯æ–‡ä»¶ã€‚å› æ­¤è¡¨è¾¾å¼cerr<<tripå°†å¯¼è‡´osç§°ä¸ºcerrçš„ä¸€ä¸ªåˆ«åã€‚

* Time å¯¹è±¡å¯ä»¥æŒ‰å€¼æˆ–æŒ‰å¼•ç”¨æ¥ä¼ é€’ï¼Œå› ä¸ºè¿™ä¸¤ç§å½¢å¼éƒ½ä½¿å‡½æ•°èƒ½å¤Ÿä½¿ç”¨å¯¹è±¡çš„å€¼ã€‚æŒ‰å¼•ç”¨ä¼ é€’ä½¿ç”¨çš„å†…å­˜å’Œæ—¶é—´éƒ½æ¯”æŒ‰å€¼ä¼ é€’å°‘ã€‚

ï¼ˆ2ï¼‰<<çš„ç¬¬äºŒç§é‡è½½ç‰ˆæœ¬ï¼š

* ä¸Šè¿°å®ç°ä¸å…è®¸åƒé€šå¸¸é‚£æ ·å°†é‡æ–°å®šä¹‰çš„<<ä¸coutä¸€èµ·ä½¿ç”¨ï¼š

  * ```c++
    cout << "Trip time: " << trip << " (Tuesday)\n";//can't do
    ```

  * å¯ä»¥å¯¹å‹å…ƒå‡½æ•°é‡‡ç”¨ostreamç±»ä¸­çš„æ–¹æ³•ï¼Œè®©å®ƒè¿”å›ostreamå¯¹è±¡çš„åº”ç”¨å³å¯ï¼š

    * ```c++
      ostream & operator<<(ostream & os, const Time & t)
      {
          os << t.hours << " hours, " << t.minutes << " minutes";
          return os;
      }
      ```

    * æ³¨æ„ï¼Œè¿”å›ç±»å‹æ˜¯ ostream &ã€‚è¿™æ„å‘³ç€è¯¥å‡½æ•°è¿”å› ostream  å¯¹è±¡çš„å¼•ç”¨ã€‚å› ä¸ºå‡½æ•°å¼€å§‹æ‰§è¡Œæ—¶ï¼Œç¨‹åºä¼ é€’äº†ä¸€ä¸ªå¯¹è±¡å¼•ç”¨ç»™å®ƒï¼Œè¿™æ ·åšçš„æœ€ç»ˆç»“æœæ˜¯ï¼Œå‡½æ•°çš„è¿”å›å€¼å°±æ˜¯ä¼ é€’ç»™å®ƒçš„å¯¹è±¡ã€‚

* ä¸€èˆ¬æ¥è¯´ï¼Œè¦é‡è½½<<è¿ç®—ç¬¦æ¥æ˜¾ç¤ºc_nameçš„å¯¹è±¡ï¼Œå¯ä½¿ç”¨ä¸€ä¸ªå‹å…ƒå‡½æ•°ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š

  * ```c++
    ostream & operator<<(ostream & os, const c_name & obj)
    {
        os << ...;
        return os;
    }
    ```

ï¼ˆ3ï¼‰ç¨‹åºæ¸…å•ï¼š

* ç¤ºä¾‹ï¼š

  * ```c++
    #pragma once
    // ch11_10_mytime3.h -- Time class with friends
    #ifndef CH11_10_MYTIME3_H_
    #define CH11_10_MYTIME3_H_
    #include <iostream>
    
    class Time
    {
    private:
    	int hours;
    	int minutes;
    public:
    	Time();
    	Time(int h, int m = 0);
    	void AddMin(int m);
    	void AddHr(int h);
    	void Reset(int h = 0, int m = 0);
    	Time operator+(const Time& t) const;
    	Time operator-(const Time& t) const;
    	Time operator*(double n) const;
    	friend Time operator*(double m, const Time & t)
    	{
    		return t * m;
    	}
    	friend std::ostream& operator<<(std::ostream& os, const Time& t);
    };
    #endif
    ```

  * ```c++
    // ch11_11_mytime3.cpp -- implementing Time methods
    #include <iostream>
    #include "ch11_10_mytime3.h"
    
    Time::Time()
    {
    	hours = minutes = 0;
    }
    
    Time::Time(int h, int m)
    {
    	hours = h;
    	minutes = m;
    }
    
    void Time::AddMin(int m)
    {
    	minutes += m;
    	hours += minutes / 60;
    	minutes %= 60;
    }
    
    void Time::AddHr(int h)
    {
    	hours += h;
    }
    
    void Time::Reset(int h, int m)
    {
    	hours = h;
    	minutes = m;
    }
    
    Time Time::operator+(const Time& t) const
    {
    	Time sum;
    	sum.minutes = minutes + t.minutes;
    	sum.hours = hours + t.hours + sum.minutes / 60;
    	sum.minutes %= 60;
    	return sum;
    }
    
    Time Time::operator-(const Time& t) const
    {
    	Time diff;
    	int tot1, tot2;
    	tot1 = t.minutes + 60 * t.hours;
    	tot2 = minutes + 60 * hours;
    	diff.minutes = (tot2 - tot1) % 60;
    	diff.hours = (tot2 - tot1) / 60;
    	return diff;
    }
    
    Time Time::operator*(double mult) const
    {
    	Time result;
    	long totalminutes = hours * mult * 60 + minutes * mult;
    	result.hours = totalminutes / 60;
    	result.minutes = totalminutes % 60;
    	return result;
    }
    
    std::ostream& operator<<(std::ostream& os, const Time& t)
    {
    	os << t.hours << " hours, " << t.minutes << " minutes";
    	return os;
    }
    ```

  * ```c++
    // ch11_12_usetime3.cpp -- using the fourth draft of the Time class
    // compile usetime3.cpp and mytime3.cpp together
    
    #include <iostream>
    #include "ch11_10_mytime3.h"
    
    int main()
    {
    	using std::cout;
    	using std::endl;
    	Time aida(3, 35);
    	Time tosca(2, 48);
    	Time temp;
    
    	cout << "Aida and Tosca:\n";
    	cout << aida << "; " << tosca << endl;
    	temp = aida + tosca;
    	cout << "Aida + Tosca: " << temp << endl;
    	temp = aida * 1.17;
    	cout << "Aida * 1.17: " << temp << endl;
    	cout << "10.0 * Tosca: " << 10.0 * tosca << endl;
    
    	return 0;
    }
    ```

* ç»“æœï¼š

  * ```c++
    Aida and Tosca:
    3 hours, 35 minutes; 2 hours, 48 minutes
    Aida + Tosca: 6 hours, 23 minutes
    Aida * 1.17: 4 hours, 11 minutes
    10.0 * Tosca: 28 hours, 0 minutes
    ```



### 11.4 é‡è½½è¿ç®—ç¬¦ï¼šä½œä¸ºæˆå‘˜å‡½æ•°è¿˜æ˜¯éæˆå‘˜å‡½æ•°

* å¯¹äºå¾ˆå¤šè¿ç®—ç¬¦æ¥è¯´ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨**æˆå‘˜å‡½æ•°**æˆ–**éæˆå‘˜å‡½æ•°**æ¥å®ç°è¿ç®—ç¬¦é‡è½½ã€‚

  * ä¸€èˆ¬æ¥è¯´ï¼š**éæˆå‘˜å‡½æ•°**åº”æ˜¯**å‹å…ƒå‡½æ•°**ï¼Œè¿™æ ·å®ƒæ‰èƒ½ç›´æ¥è®¿é—®ç±»çš„ç§æœ‰æ•°æ®ã€‚ä¾‹å¦‚ï¼ŒTime ç±»çš„åŠ æ³•è¿ç®—ç¬¦åœ¨ Time ç±»å£°æ˜ä¸­çš„åŸå‹å¦‚ä¸‹ï¼š

    * ```c++
      Time operator+(const Time & t) const;
      ```

  * å¯ä»¥ä½¿ç”¨ä¸‹é¢åŸå‹ï¼š

    * ```c++
      friend Time operator+(const Time & t1, const Time & t2);
      ```

    * æ³¨æ„â—ï¼šéæˆå‘˜ç‰ˆæœ¬çš„é‡è½½è¿ç®—ç¬¦å‡½æ•°æ‰€éœ€çš„å½¢å‚æ•°ç›®ä¸è¿ç®—ç¬¦ä½¿ç”¨çš„æ“ä½œæ•°æ•°ç›®ç›¸åŒ:è€Œæˆå‘˜ç‰ˆæœ¬æ‰€éœ€çš„å‚æ•°æ•°ç›®å°‘ä¸€ä¸ªï¼Œå› ä¸ºå…¶ä¸­çš„ä¸€ä¸ªæ“ä½œæ•°æ˜¯è¢«éšå¼åœ°ä¼ é€’çš„è°ƒç”¨å¯¹è±¡ã€‚

* å“ªç§æœ€å¥½ï¼Ÿ

  * å¯¹äºæŸäº›è¿ç®—ç¬¦æ¥è¯´(å¦‚å‰æ‰€è¿°)æˆå‘˜å‡½æ•°æ˜¯å”¯ä¸€åˆæ³•çš„é€‰æ‹©ã€‚
  * åœ¨å…¶ä»–æƒ…å†µä¸‹è¿™ä¸¤ç§æ ¼å¼æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚
  * æœ‰æ—¶ï¼Œæ ¹æ®ç±»è®¾è®¡ï¼Œä½¿ç”¨éæˆå‘˜å‡½æ•°ç‰ˆæœ¬å¯èƒ½æ›´å¥½(å°¤å…¶æ˜¯ä¸ºç±»å®šä¹‰ç±»å‹è½¬æ¢æ—¶)ã€‚



### 11.5 å†è°ˆé‡è½½ï¼Œä¸€ä¸ªçŸ¢é‡ç±»

ï¼ˆ1ï¼‰ä½¿ç”¨äº†è¿ç®—ç¬¦é‡è½½å’Œå‹å…ƒçš„ç±»è®¾è®¡â€”â€”ä¸€ä¸ªè¡¨ç¤ºçŸ¢é‡çš„ç±»ã€‚

ï¼ˆ2ï¼‰æè¿°äºŒç»´çŸ¢é‡éœ€è¦çš„ä¸¤ä¸ªæ•°é€‰æ‹©ï¼š

* å¯ä»¥ç”¨å¤§å°ï¼ˆé•¿åº¦ï¼‰å’Œæ–¹å‘ï¼ˆè§’åº¦ï¼‰æè¿°çŸ¢é‡ï¼š
  * ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/98668354-c858-4496-a83d-7f124ab3c04f)
* å¯ä»¥ç”¨åˆ†é‡xå’Œyè¡¨ç¤ºçŸ¢é‡ï¼š
  * ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/cf39164c-7915-4b8a-82f9-3819aca80888)
  * ä¸¤ä¸ªåˆ†é‡åˆ†åˆ«æ˜¯æ°´å¹³å’Œå‚ç›´åˆ†é‡ï¼ˆxã€yåˆ†é‡ï¼‰ï¼Œå°†å…¶ç›¸åŠ å¯ä»¥å¾—åˆ°æœ€ç»ˆçš„çŸ¢é‡ã€‚

ï¼ˆ3ï¼‰ç¨‹åºæ¸…å•ï¼š

* ç¤ºä¾‹ï¼šç±»å£°æ˜ï¼ˆè¯¥æ¸…å•å°†ç±»å£°æ˜æ”¾åœ¨VECTORåç§°ç©ºé—´ä¸­ï¼‰

  * ```c++
    #pragma once
    // ch11_13_vector.h -- Vector class with <<, mode state
    #ifndef CH11_13_VECTOR_H_ 
    #define CH11_13_VECTOR_H_
    #include <iostream>
    
    namespace VECTOR
    {
    	class Vector
    	{
    	public:
    		enum Mode { RECT, POL };
    	// RECT for rectangular, POL for Polar modes
    	private:
    		double x;
    		double y;
    		double mag;
    		double ang;
    		Mode mode;
    	// private methods for setting values
    		void set_mag();
    		void set_ang();
    		void set_x();
    		void set_y();
    	public:
    		Vector();
    		Vector(double n1, double n2, Mode form = RECT);
    		void reset(double n1, double n2, Mode form = RECT);
    		~Vector();
    		double xval() const { return x; }
    		double yval() const { return y; }
    		double magval() const { return mag; }
    		double angval() const { return ang; }
    		void polar_mode();
    		void rect_mode();
    	// opetator overloading
    		Vector operator+(const Vector& b) const;
    		Vector operator-(const Vector& b) const;
    		Vector operator-() const;
    		Vector operator*(double n) const;
    	// friends
    		friend Vector operator*(double n, const Vector& a);
    		friend std::ostream& operator<<(std::ostream& os, const Vector& v);
    	};
    }
    
    #endif
    ```

* ç¤ºä¾‹ï¼šï¼ˆç±»æ–¹æ³•å®šä¹‰ï¼‰

  * ```c++
    // ch11_14_vect.cpp -- methods for the Vector class
    #include <cmath>
    #include "ch11_13_vector.h"
    
    using std::sqrt;
    using std::sin;
    using std::cos;
    using std::atan;
    using std::atan2;
    using std::cout;
    
    namespace VECTOR
    {
    	// compute degrees in one radian
    	const double Rad_to_deg = 45.0 / atan(1.0);
    	// should be about 57.2957795139823
    
    	// privater methods
    	// calculates magnitude from x and y;
    	void Vector::set_mag()
    	{
    		mag = sqrt(x * x + y * y);
    	}
    
    	void Vector::set_ang()
    	{
    		if (x == 0.0 && y == 0.0)
    			ang = 0.0;
    		else
    			ang = atan2(y, x);
    	}
    
    	// set x and y from polar coordinate
    	void Vector::set_x()
    	{
    		x = mag * cos(ang);
    	}
    
    	void Vector::set_y()
    	{
    		y = mag * sin(ang);
    	}
    
    	// public methods
    	Vector::Vector()
    	{
    		x = y = mag = ang = 0.0;
    		mode = RECT;
    	}
    
    	// construct vector from rectangular coordinates if form is r
    	//(the default) or else from polar coordinates if form is p
    	Vector::Vector(double n1, double n2, Mode form)
    	{
    		mode = form;
    		if (form == RECT)
    		{
    			x = n1;
    			y = n2;
    			set_mag();
    			set_ang();
    		}
    		else if (form == POL)
    		{
    			mag = n1;
    			ang = n2;
    			set_x();
    			set_y();
    		}
    		else
    		{
    			cout << "Incorrect 3rd argument to Vector() --";
    			cout << "vector set to 0\n";
    			x = y = mag = ang = 0.0;
    			mode = RECT;
    		}
    	}
    
    	// reset vector from rectangular corrdinates if form is
    	// RECT (the default) or else from polar coordinates if
    	// form is POL
    	void Vector::reset(double n1, double n2, Mode form)
    	{
    		mode = form;
    		if (form == RECT)
    		{
    			x = n1;
    			y = n2;
    			set_mag();
    			set_ang();
    		}
    		else if (form == POL)
    		{
    			mag = n1;
    			ang = n2;
    			set_x();
    			set_y();
    		}
    		else
    		{
    			cout << "Incorrect 3rd argument to Vector() --";
    			cout << "vector set to 0\n";
    			x = y = mag = ang = 0.0;
    			mode = RECT;
    		}
    	}
    
    	Vector::~Vector()	// destructor
    	{
    	}
    
    	void Vector::polar_mode()	// set to polar mode
    	{
    		mode = POL;
    	}
    
    	void Vector::rect_mode()	// set to rectangular mode
    	{
    		mode = RECT;
    	}
    
    	// operator overloading
    	// add two Vectors
    	Vector Vector::operator+(const Vector& b) const
    	{
    		return Vector(x + b.x, y + b.y);
    	}
    
    	// subtract Vector b from a
    	Vector Vector::operator-(const Vector& b) const
    	{
    		return Vector(x - b.x, y - b.y);
    	}
    
    	// reverse sign of Vector
    	Vector Vector::operator-() const
    	{
    		return Vector(-x, -y);
    	}
    
    	// multiply vector by n
    	Vector Vector::operator*(double n) const
    	{
    		return Vector(n * x, n * y);
    	}
    
    	// frien methods
    	// multiply n by Vector a
    	Vector operator*(double n, const Vector& a)
    	{
    		return a * n;
    	}
    
    	// display rectangular coordinates if mode is RECT,
    	// else display polar coordinates if mode is POL
    	std::ostream& operator<<(std::ostream& os, const Vector& v)
    	{
    		if (v.mode == Vector::RECT)
    			os << "(x,y) = (" << v.x << ", " << v.y << ")";
    		else if (v.mode == Vector::POL)
    		{
    			os << "(m,a) = (" << v.mag << ", "
    				<< v.ang * Rad_to_deg << ")";
    		}
    		else
    			os << "Vector object mode is invalid";
    		return os;
    	}
    }
    ```

#### 11.5.1 ä½¿ç”¨çŠ¶æ€æˆå‘˜

ï¼ˆ1ï¼‰æšä¸¾RECTè¡¨ç¤ºç›´è§’åæ ‡æ¨¡å¼ï¼ˆé»˜è®¤å€¼ï¼‰ã€POLè¡¨ç¤ºæåæ ‡æ¨¡å¼ã€‚è¿™æ ·çš„æˆå‘˜è¢«ç§°ä¸ºçŠ¶æ€æˆå‘˜ï¼Œå› ä¸ºè¿™ç§æˆå‘˜æè¿°çš„æ˜¯å¯¹è±¡æ‰€å¤„çš„çŠ¶æ€ï¼š

* ```c++
  Vector folly(3.0, 4.0);
  Vector foolery(20.0, 30.0, VECTOR::Vector::POL);
  ```

* æ ‡è¯†ç¬¦POLçš„ä½œç”¨åŸŸä¸ºç±»ï¼Œå› æ­¤ç±»å®šä¹‰å¯ä½¿ç”¨æœªé™å®šçš„åç§°ã€‚ä½†å…¨é™å®šåä¸ºVECTOR::Vector::POLï¼Œå› ä¸ºPOLæ˜¯åœ¨Vectorç±»ä¸­å®šä¹‰çš„ï¼Œè€ŒVectoræ˜¯åœ¨åç§°ç©ºé—´VECTORä¸­å®šä¹‰çš„ã€‚

* ç”±äºoperator<<ï¼ˆï¼‰æ˜¯ä¸€ä¸ªå‹å…ƒå‡½æ•°ï¼Œè€Œä¸åœ¨ä½œç”¨åŸŸå†…ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨Vector::RECTï¼Œè€Œä¸èƒ½ä½¿ç”¨RECTã€‚

  * ```c++
    std::ostream& operator<<(std::ostream& os, const Vector& v)
    	{
    		if (v.mode == Vector::RECT)
    			os << "(x,y) = (" << v.x << ", " << v.y << ")";
    		else if (v.mode == Vector::POL)
    		{
    			os << "(m,a) = (" << v.mag << ", "
    				<< v.ang * Rad_to_deg << ")";
    		}
    		else
    			os << "Vector object mode is invalid";
    		return os;
    	}
    ```

  * ä½†è¿™ä¸ªå‹å…ƒå‡½æ•°åœ¨åç§°ç©ºé—´VECTORä¸­ï¼Œå› æ­¤æ— éœ€ä½¿ç”¨å…¨é™å®šåVECTOR::Vector::RECTã€‚

#### 11.5.2 ä¸ºVectorç±»é‡è½½ç®—æ•°è¿ç®—ç¬¦

ï¼ˆ1ï¼‰è¿™ä¹Ÿæ˜¯ä½ ä¸€ç›´çº³é—·çš„åœ°æ–¹ï¼š

* ```c++
  Vector Vector::operator+(const Vector& b) const
  	{
  		return Vector(x + b.x, y + b.y);
  	}
  ```

* returnçš„åœ°æ–¹å¾ˆè¿·ï¼Œä¹¦ä¸Šæ˜¯è¿™ä¹ˆè§£é‡Šçš„ï¼š

  * åœ¨ä½¿ç”¨xã€yåæ ‡æ—¶ï¼Œå°†ä¸¤ä¸ªçŸ¢é‡ç›¸åŠ å°†éå¸¸ç®€å•ï¼Œåªè¦å°†ä¸¤ä¸ªxåˆ†é‡ç›¸åŠ ï¼Œå¾—åˆ°æœ€ç»ˆçš„xåˆ†é‡ï¼Œyåˆ†é‡åŒæ ·ï¼š

    * ```c++
      Vector Vector::operator+(const Vector& b) const
      	{
      		Vector sun;
          	sum.x = x + b.x;
          	sum.y = y + b.y;
          	return sum;
      	}
      ```

    * å¦‚æœå¯¹è±¡åªå‚¨å­˜xå’Œyåˆ†é‡ï¼Œåˆ™è¿™æ ·å¾ˆå¥½ã€‚â—ä¸è¿‡ï¼Œä¸Šè¿°ä»£ç æ— æ³•è®¾ç½®æåæ ‡å€¼ã€‚

  * å¯ä»¥é€šè¿‡æ·»åŠ å¦å¤–ä¸€äº›ä»£ç æ¥è§£å†³ï¼š

    * ```c++
      Vector Vector::operator+(const Vector& b) const
      	{
      		Vector sun;
          	sum.x = x + b.x;
          	sum.y = y + b.y;
          	sum.set_ang(sum.x, sum.y);
        	  	sum.set_mag(sum.x, sum.y);
          	return sum;
      	}
      ```

  * ç„¶è€Œä½¿ç”¨æ„é€ å‡½æ•°æ¥å®Œæˆä¼šæ›´ç®€å•æ›´å¯é ï¼ï¼š

    * ```c++
      Vector Vector::operator+(const Vector& b) const
      	{
      		return Vector(x + b.x, y + b.y);
      	}
      ```

    * ä¸Šè¿°ä»£ç å°†æ–°çš„xåˆ†é‡å’Œyåˆ†é‡ä¼ é€’ç»™Vectoræ„é€ å‡½æ•°ï¼Œè€Œåè€…å°†ä½¿ç”¨è¿™äº›å€¼æ¥åˆ›å»ºæ— åçš„æ–°å¯¹è±¡ï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡çš„å‰¯æœ¬ã€‚

    * è¿™ç¡®ä¿äº†æ–°çš„Vectorå¯¹è±¡æ˜¯æ ¹æ®æ„é€ å‡½æ•°æŒ‡å®šçš„æ ‡å‡†è§„åˆ™åˆ›å»ºçš„ã€‚

    * ğŸ“Œæç¤ºï¼šå¦‚æœæ–¹æ³•é€šè¿‡è®¡ç®—å¾—åˆ°ä¸€ä¸ªæ–°çš„ç±»å¯¹è±¡ï¼Œåˆ™åº”è€ƒè™‘æ˜¯å¦å¯ä»¥ä½¿ç”¨ç±»æ„é€ å‡½æ•°æ¥å®Œæˆè¿™ç§å·¥ä½œã€‚è¿™æ ·åšä¸ä»…å¯ä»¥é¿å…éº»çƒ¦ï¼Œè€Œä¸”å¯ä»¥ç¡®ä¿æ–°çš„å¯¹è±¡æ˜¯æŒ‰ç…§æ­£ç¡®çš„æ–¹å¼åˆ›å»ºçš„ã€‚

ï¼ˆ2ï¼‰1ã€ä¹˜æ³•ï¼š

* å°†çŸ¢é‡ä¸ä¸€ä¸ªæ•°ç›¸ä¹˜ï¼Œå°†ä½¿è¯¥çŸ¢é‡åŠ é•¿æˆ–ç¼©çŸ­(å–å†³äºè¿™ä¸ªæ•°)ã€‚å› æ­¤ï¼Œå°†çŸ¢é‡ä¹˜ä»¥3 å¾—åˆ°çš„çŸ¢é‡çš„é•¿åº¦ä¸ºåŸæ¥çš„ä¸‰å€ï¼Œè€Œæ–¹å‘ä¸å˜ã€‚

  * è¦åœ¨ Vector ç±»ä¸­å®ç°çŸ¢é‡çš„è¿™ç§è¡Œä¸ºå¾ˆå®¹æ˜“ï¼š

    * å¯¹äºæåæ ‡ï¼Œåªè¦å°†é•¿åº¦è¿›è¡Œä¼¸ç¼©ï¼Œå¹¶ä¿æŒè§’åº¦ä¸å˜å³å¯ï¼›

    * å¯¹äºç›´è§’åæ ‡ï¼Œåªéœ€å°† x å’Œ y åˆ†é‡è¿›è¡Œä¼¸ç¼©å³å¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœçŸ¢é‡çš„åˆ†é‡ä¸º 5 å’Œ 12ï¼Œåˆ™å°†å…¶ä¹˜ä»¥ 3 åï¼Œåˆ†é‡å°†åˆ†åˆ«æ˜¯ 15 å’Œ 6ã€‚è¿™æ­£æ˜¯é‡çš„ä¹˜æ³•è¿ç®—ç¬¦è¦å®Œæˆçš„å·¥ä½œï¼š

      * ```c++
        Vector Vector::operator*(double n) const
        	{
        		return Vector(n * x, n * y);
        	}
        ```

2ã€å¯¹å·²é‡è½½çš„è¿ç®—ç¬¦è¿›è¡Œé‡è½½

* -è¿ç®—ç¬¦çš„ä¸¤ç§å«ä¹‰ï¼š
  * ä¸¤ä¸ªæ“ä½œæ•°ï¼šå‡æ³•è¿ç®—ç¬¦ï¼›
  * ä¸€ä¸ªæ“ä½œæ—¶ï¼šè´Ÿå·è¿ç®—ç¬¦ã€‚
* å› ä¸ºå®ƒä»¬çš„ç‰¹å¾æ ‡ä¸åŒï¼Œæ‰€ä»¥å¯è¡Œã€‚

#### 11.5.3 å¯¹å®ç°çš„è¯´æ˜
